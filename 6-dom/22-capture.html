<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Capture</title>
    <script>
        "use strict";

        /*
         * # 事件的捕获
         *
         * - 在 DOM 中，事件的传播可以分为三个阶段
         *   1. 捕获阶段（由祖先元素向目标元素进行事件的捕获，默认情况下，事件不会再捕获阶段触发）
         *   2. 目标阶段（触发事件的对象）
         *   3. 冒泡阶段（由目标元素向祖先元素进行事件的冒泡）
         * - 事件的捕获，指事件从外向内的传导
         *   - 当前元素触发事件后，会先从当前元素最大的祖先元素开始向当前元素进行事件的捕获
         *   - 如果希望在捕获阶段触发事件，可以将 `addEventListener()` 的第三个参数设置为 `true`
         *   - 一般情况下，不希望事件在捕获阶段触发
         * - `eventPhase`：表示事件触发的阶段
         *   - `1`：捕获阶段
         *   - `2`：目标阶段
         *   - `3`：冒泡阶段
         */
        document.addEventListener("DOMContentLoaded", () => {
            document.getElementById("box1").addEventListener("click", e => {
                console.log(e.eventPhase);
                console.log("box1");
                console.log("\n");
            }, true);

            document.getElementById("box2").addEventListener("click", e => {
                console.log(e.eventPhase);
                console.log("box2");
                console.log("\n");
            });

            document.getElementById("box3").addEventListener("click", e => {
                console.log(e.eventPhase);
                console.log("box3");
                console.log("\n");
            });
        });
    </script>
    <style>
        #box1 {
            width: 300px;
            height: 300px;
            background-color: greenyellow;
        }

        #box2 {
            width: 200px;
            height: 200px;
            background-color: orange;
        }

        #box3 {
            width: 100px;
            height: 100px;
            background-color: tomato;
        }
    </style>
</head>
<body>
<div id="box1">
    box1
    <div id="box2">
        box2
        <div id="box3">
            box3
        </div>
    </div>
</div>
</body>
</html>
